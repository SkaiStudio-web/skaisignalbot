import React,{useState} from 'react'; import axios from 'axios'; export default function Login({onLogin}){ const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); const [mode,setMode]=useState('login'); async function submit(e){ e.preventDefault(); try{ const url = mode==='login'? '/auth/login':'/auth/register'; const res = await axios.post(url,{email,password}); if(res.data?.token) onLogin(res.data.token); }catch(err){ alert(err?.response?.data?.error||err.message); } } return (<div style={{maxWidth:480,margin:'6% auto',padding:24,background:'#0b1220',borderRadius:8,color:'#fff'}}><h2>{mode==='login'?'Sign in':'Register'}</h2><form onSubmit={submit}><input placeholder='email' value={email} onChange={e=>setEmail(e.target.value)} style={{width:'100%',padding:8,marginBottom:8}}/><input type='password' placeholder='password' value={password} onChange={e=>setPassword(e.target.value)} style={{width:'100%',padding:8,marginBottom:12}}/><button style={{padding:8}}>{mode==='login'?'Sign in':'Create account'}</button></form><div style={{marginTop:12}}><button onClick={()=>setMode(mode==='login'?'register':'login')} style={{background:'transparent',color:'#9ca3af',border:0}}>Switch to {mode==='login'?'register':'login'}</button></div></div>); }